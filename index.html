<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>G√©n√©rateur d'annonce</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; }
    h1 { text-align: center; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; }
    textarea { width: 100%; height: 400px; margin-top: 10px; padding: 10px; white-space: pre-line; }
    button { margin-top: 10px; padding: 10px 15px; cursor: pointer; }
    .output-section { background: white; padding: 15px; margin-top: 20px; border-radius: 5px; }
  </style>
</head>
<body>
  <h1>G√©n√©rateur d'annonce simplifi√©</h1>

  <label for="marque">Marque</label>
  <input type="text" id="marque" />

  <label for="theme">Th√®me</label>
  <input type="text" id="theme" />

  <label for="serie">S√©rie</label>
  <input type="text" id="serie" />

  <label for="modele">Mod√®le</label>
  <input type="text" id="modele" />

  <label for="numero">Num√©ro</label>
  <input type="text" id="numero" />

  <label for="nasst">N.ASST</label>
  <input type="text" id="nasst" />

  <label for="etat">√âtat</label>
  <input type="text" id="etat" placeholder="ex: Neuf, Bon √©tat..." />

  <button onclick="genererAnnonce()">G√©n√©rer</button>

  <div class="output-section">
    <h3>Titre :</h3>
    <textarea id="titre" readonly></textarea>
    <button onclick="copier('titre')">Copier le titre</button>

    <h3>Description + CGV :</h3>
    <textarea id="description" readonly></textarea>
    <button onclick="copier('description')">Copier la description + CGV</button>
  </div>

  <script>
    const champs = ["marque", "theme", "serie", "modele", "numero", "nasst", "etat"];

    // Texte CGV complet
    const texteCGV = `
1. Identification du vendeur

Nom : Maxime Druelle
Statut : Micro-entrepreneur
Adresse : Halluin, France
Contact : Via la messagerie de l'appli
TVA non applicable, article 293 B du CGI

2. Produits propos√©s

Les articles propos√©s sont neufs ou d‚Äôoccasion, selon l‚Äôannonce.
üì∏ Les photos sont celles d‚Äôun mod√®le d‚Äôexposition et peuvent ne pas repr√©senter l‚Äôexemplaire exact.
üìù L‚Äô√©tat r√©el de l‚Äôarticle est celui pr√©cis√© dans la description.

3. Prix

Les prix sont en euros (‚Ç¨), toutes taxes comprises (TVA non applicable).
‚ö†Ô∏è Faible n√©gociation possible uniquement en cas d‚Äôachat par lot.
Les frais d‚Äôenvoi sont √† la charge de l‚Äôacheteur sauf mention contraire.

4. Paiement

Les moyens de paiement accept√©s sont :
Paiement s√©curis√© de l'appli
Esp√®ces (remise en main propre)

5. Livraison

üì¶ Remise en main propre possible √† Halluin (ou alentours).
üìÆ Envoi possible via La Poste, Mondial Relay ou autre transporteur.
L‚Äôexp√©dition se fait apr√®s encaissement.
üö´ Le vendeur n‚Äôest pas responsable des pertes, retards ou dommages caus√©s par le transporteur. L‚Äôacheteur peut demander un envoi avec assurance √† ses frais.

6. Droit de r√©tractation

Conform√©ment √† l‚Äôarticle L221-18 du Code de la consommation, l‚Äôacheteur dispose d‚Äôun d√©lai de 14 jours √† compter de la r√©ception du produit pour exercer son droit de r√©tractation.
üìù Conditions du retour :
Notification √©crite obligatoire (via l'appli ou email)
Retour √† la charge de l‚Äôacheteur
L‚Äôarticle doit √™tre retourn√© dans le m√™me √©tat que lors de l‚Äôenvoi
Le remboursement sera effectu√© apr√®s r√©ception et v√©rification de l‚Äôarticle
‚ùå Aucun retour accept√© si l‚Äôarticle est incomplet, endommag√© ou modifi√©.

7. Litiges

En cas de d√©saccord, une r√©solution √† l‚Äôamiable sera privil√©gi√©e.
√Ä d√©faut, le litige sera port√© devant les tribunaux comp√©tents du lieu du vendeur.

8. Acceptation des conditions

Toute commande vaut acceptation des pr√©sentes Conditions G√©n√©rales de Vente.
`.trim();

    window.onload = function () {
      champs.forEach((id) => {
        const valeur = localStorage.getItem(id);
        if (valeur) document.getElementById(id).value = valeur;
      });
      genererAnnonce();
    };

    function genererAnnonce() {
      const marque = document.getElementById("marque").value;
      const theme = document.getElementById("theme").value;
      const serie = document.getElementById("serie").value;
      const modele = document.getElementById("modele").value;
      const numero = document.getElementById("numero").value;
      const nasst = document.getElementById("nasst").value;
      const etat = document.getElementById("etat").value;

      // Sauvegarder dans le localStorage
      champs.forEach((id) => {
        localStorage.setItem(id, document.getElementById(id).value);
      });

      const descriptionAnnonce = `Marque : ${marque}
Th√®me : ${theme}
S√©rie : ${serie}
Mod√®le : ${modele}
Num√©ro : ${numero}
N.ASST : ${nasst}
√âtat : ${etat}

Prix non n√©gociable mise √† part en lot
Emballage soign√© ‚úÖ
Envoie sous 48h ! üïì ( hors dimanche et jours f√©ri√©s fran√ßais )`;

      // Ajout des CGV apr√®s un saut de ligne
      const descriptionComplete = descriptionAnnonce + "\n\n---\n\n" + texteCGV;

      const titre = `${marque} | ${theme} | ${serie} | ${modele} | ${numero} | ${nasst}`;

      document.getElementById("titre").value = titre;
      document.getElementById("description").value = descriptionComplete;
    }

    function copier(id) {
  let element = document.getElementById(id);
  let texte = "";

  if (element.tagName.toLowerCase() === "textarea" || element.tagName.toLowerCase() === "input") {
    texte = element.value;
  } else {
    texte = element.textContent;
  }

  // Utilise l'API moderne pour copier
  navigator.clipboard.writeText(texte)
    .then(() => alert("Texte copi√© !"))
    .catch(err => alert("Erreur lors de la copie : " + err));
}
  </script>
</body>
</html>
